<!DOCTYPE html>
<html lang="en"><head>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<link rel="alternate" hreflang="en" href="https://morganwastaken.com/teaching/2023-2024/Programming Level-up/lecture-4-reveal.html" />
<link rel="alternate" hreflang="cy" href="https://morganwastaken.com/cy/teaching/2023-2024/Programming Level-up/lecture-4-reveal.cy.html" />
<script src="../../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-6c21014d9765ba549c6ebad95917e4d7.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.6">

  <meta name="author" content="Jay Paul Morgan">
  <title>Jay Paul Morgan – Introduction to Numpy</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/theme/quarto-bbe7401fe57d4b791b917637bb662036.css">
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-Q1SQLS91HT"></script>

  <script type="text/javascript">

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
   
    gtag('consent', 'default', {
      'ad_storage': 'denied',
      'analytics_storage': 'denied'
    });
  gtag('config', 'G-Q1SQLS91HT', { 'anonymize_ip': true});
  </script>
  <link href="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<meta property="og:title" content="Introduction to Numpy – Jay Paul Morgan">
<meta property="og:description" content="Lecture 4">
<meta property="og:site_name" content="Jay Paul Morgan">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Introduction to Numpy</h1>
  <p class="subtitle">Lecture 4</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Jay Paul Morgan 
</div>
</div>
</div>

</section>
<section>
<section id="numpy" class="title-slide slide level1 center">
<h1>NumPy</h1>

</section>
<section id="what-is-numpy" class="slide level2">
<h2>What is NumPy?</h2>
<p>NumPy (<a href="https://numpy.org/" class="uri">https://numpy.org/</a>) is one of the fundamental Python libraries for scientific computing. In essence, its aim is to make vector and array processing in Python much more efficient. Therefore, it would be your go-to for (numerical) data processing.</p>
<p>Numerical data processing with NumPy can, most often that not, be magnitudes faster than what you can write in Python, even if the operations are the same. This is because NumPy is partly written in C.</p>
<p>For example, if we want to compute the matrix multiplication of two arrays:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a></a>A <span class="op">=</span> [[<span class="dv">1</span>, <span class="dv">4</span>], [<span class="dv">9</span>, <span class="dv">5</span>]]  <span class="co"># 2 dimensional 'matrices' A and B</span></span>
<span id="cb1-2"><a></a>B <span class="op">=</span> [[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">3</span>, <span class="dv">4</span>]]</span>
<span id="cb1-3"><a></a>C <span class="op">=</span> [[<span class="dv">0</span>, <span class="dv">0</span>], [<span class="dv">0</span>, <span class="dv">0</span>]]  <span class="co"># our result 'pre-allocated' with zeros</span></span>
<span id="cb1-4"><a></a></span>
<span id="cb1-5"><a></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(A)):</span>
<span id="cb1-6"><a></a>    <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(B)):</span>
<span id="cb1-7"><a></a>        <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(B)):</span>
<span id="cb1-8"><a></a>            C[i][j] <span class="op">+=</span> A[i][k] <span class="op">*</span> B[k][j]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The previous example is quite un-weidly. We have to manually loop through the matrices and apply the computation for each element. This can be <strong>very</strong> slow in Python. NumPy provides a much cleaner and quicker interface:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-2"><a></a>A <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">4</span>], [<span class="dv">9</span>, <span class="dv">5</span>]])</span>
<span id="cb2-3"><a></a>B <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">3</span>, <span class="dv">4</span>]])</span>
<span id="cb2-4"><a></a>C <span class="op">=</span> A <span class="op">@</span> B  <span class="co"># or np.matmul(A, B)</span></span>
<span id="cb2-5"><a></a><span class="bu">print</span>(C)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [[13 18]
# =&gt;  [24 38]]</code></pre>
</section>
<section id="install-numpy" class="slide level2">
<h2>Install NumPy</h2>
<p>Before we can use NumPy, we must first install it if its not already. NumPy can easily be installed with one of your package managers of choice. For example, if you want to install via conda:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a></a><span class="ex">conda</span> install numpy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>or with pip:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a></a><span class="ex">pip</span> install numpy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="creating-a-numpy-array" class="slide level2">
<h2>Creating a numpy array</h2>
<p>As we’ve seen previously, we use <code>np.array</code> to create a numpy array from a Python data type</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a></a>A <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>], [<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]])</span>
<span id="cb6-2"><a></a><span class="bu">print</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [[1 2 3]
# =&gt;  [4 5 6]
# =&gt;  [7 8 9]]</code></pre>
<p>We’ve created a 3x3 matrix of integers. Note that, out-of-the-box, NumPy doesn’t support <em>ragged arrays</em> (matrices that are not rectangular), so this will not work as you expect:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a></a>A <span class="op">=</span> np.array([[<span class="dv">1</span>], [<span class="dv">1</span>, <span class="dv">2</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="basic-attributes" class="slide level2">
<h2>Basic attributes</h2>
<p>A numpy array has various attributes that are useful for our numerical computing. Some of these include:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a></a>A <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">4</span>], [<span class="dv">9</span>, <span class="dv">5</span>]])</span>
<span id="cb9-2"><a></a></span>
<span id="cb9-3"><a></a><span class="bu">print</span>(A.shape)  <span class="co"># the shape of the array</span></span>
<span id="cb9-4"><a></a><span class="bu">print</span>(A.size)   <span class="co"># number of elements</span></span>
<span id="cb9-5"><a></a><span class="bu">print</span>(A.ndim)   <span class="co"># number of dimensions</span></span>
<span id="cb9-6"><a></a><span class="bu">print</span>(A.nbytes) <span class="co"># storage used</span></span>
<span id="cb9-7"><a></a><span class="bu">print</span>(A.dtype)  <span class="co"># data type of elements</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; (2, 2)
# =&gt; 4
# =&gt; 2
# =&gt; 32
# =&gt; int64</code></pre>
</section>
<section id="different-data-types" class="slide level2">
<h2>Different data types</h2>
<p>In the previous example, the elements in the array we <code>int64</code>. But normally, we will see <code>float64</code>. However, there are many other available data types, where each of the different data types affects how much memory is used to represent the data.</p>
<ul>
<li>int (8, 16, 32, 64)</li>
<li>uint (unsigned integers)</li>
<li>bool</li>
<li>float (8, 16, 32, 64)</li>
<li>complex</li>
</ul>
<p><a href="https://numpy.org/doc/stable/user/basics.types.html" class="uri">https://numpy.org/doc/stable/user/basics.types.html</a> <a href="https://numpy.org/doc/stable/reference/arrays.dtypes.html" class="uri">https://numpy.org/doc/stable/reference/arrays.dtypes.html</a></p>
</section>
<section id="creating-arrays-with-different-dtypes" class="slide level2">
<h2>Creating arrays with different dtypes</h2>
<p>When creating a NumPy array, NumPy will select what it thinks to be the most appropriate data type. However, we can tell NumPy explicitly what the data type should be with the <code>dtype</code> argument.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a></a>A <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">9</span>, <span class="dv">5</span>]], dtype<span class="op">=</span>np.int8)</span>
<span id="cb11-2"><a></a><span class="bu">print</span>(A)</span>
<span id="cb11-3"><a></a><span class="bu">print</span>(A.dtype)</span>
<span id="cb11-4"><a></a></span>
<span id="cb11-5"><a></a>A <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">9</span>, <span class="dv">5</span>]], dtype<span class="op">=</span>np.<span class="bu">float</span>)</span>
<span id="cb11-6"><a></a><span class="bu">print</span>(A)</span>
<span id="cb11-7"><a></a><span class="bu">print</span>(A.dtype)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [[1 2]
# =&gt;  [9 5]]
# =&gt; int8
# =&gt; [[1. 2.]
# =&gt;  [9. 5.]]
# =&gt; float64</code></pre>
</section>
<section id="changing-dtypes" class="slide level2">
<h2>Changing dtypes</h2>
<p>In some cases, we wish to change the data type of arrays <em>after</em> its creation. For this we use the <code>.astype()</code> method. This method takes a single argument: the data type you wish to change the array to.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a></a>A <span class="op">=</span> np.array([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>])</span>
<span id="cb13-2"><a></a><span class="bu">print</span>(A.dtype)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>int64</code></pre>
</section>
<section id="section" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"></h2>
<p>We could change it to a <code>float64</code> array:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode python hljs"><span id="cb15-1" class="hljs-ln-code"><a></a>A <span class="op">=</span> A.astype(<span class="bu">float</span>)</span>
<span id="cb15-2" class="hljs-ln-code"><a></a><span class="bu">print</span>(A.dtype)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>float64</code></pre>
</section>
<section id="section-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"></h2>
<p>Or <code>float32</code>:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode python hljs"><span id="cb17-1" class="hljs-ln-code"><a></a>A <span class="op">=</span> A.astype(np.float32)</span>
<span id="cb17-2" class="hljs-ln-code"><a></a><span class="bu">print</span>(A.dtype)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>float32</code></pre>
</section>
<section id="different-ways-of-creating-arrays" class="slide level2">
<h2>Different ways of creating arrays</h2>
<p>NumPy also provides us with a number of different functions to create arrays. Instead of doing this:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a></a>A <span class="op">=</span> np.array([[<span class="dv">0</span>, <span class="dv">0</span>], [<span class="dv">0</span>, <span class="dv">0</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We could instead use the <code>np.zeros</code> function, passing a tuple where each element of the tuple describes how many elements should be made in each dimension:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a></a>A <span class="op">=</span> np.zeros((<span class="dv">2</span>,)) <span class="co"># 1 dimensional</span></span>
<span id="cb20-2"><a></a>A <span class="op">=</span> np.zeros((<span class="dv">2</span>, <span class="dv">2</span>))  <span class="co"># 2 dimensional</span></span>
<span id="cb20-3"><a></a>A <span class="op">=</span> np.zeros((<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">5</span>))  <span class="co"># 3 dimensional</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Another commonly used array creation function is the <code>np.random.randn</code> function. This creates an array where elements are sampled from a normal distribution.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a></a>A <span class="op">=</span> np.random.randn(<span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb21-2"><a></a><span class="bu">print</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [[-0.68213848 -0.44274759]
# =&gt;  [ 0.6748596   0.64244208]]</code></pre>
<p><strong>Note</strong> the interface is a little different than <code>.zeros</code>, where instead of passing a tuple, we pass multiple arguments to the function.</p>
<p>It is also convenient to create arrays with ranges of elements.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a></a>A <span class="op">=</span> np.arange(<span class="dv">5</span>, <span class="dv">10</span>) <span class="co"># optional step</span></span>
<span id="cb23-2"><a></a><span class="bu">print</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [5 6 7 8 9]</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a></a>A <span class="op">=</span> np.linspace(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">20</span>)</span>
<span id="cb25-2"><a></a><span class="bu">print</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [ 5.          5.26315789  5.52631579  5.78947368  6.05263158  6.31578947
# =&gt;   6.57894737  6.84210526  7.10526316  7.36842105  7.63157895  7.89473684
# =&gt;   8.15789474  8.42105263  8.68421053  8.94736842  9.21052632  9.47368421
# =&gt;   9.73684211 10.        ]</code></pre>
<p>There are many more ways to create arrays. Some include:</p>
<ul>
<li><code>np.ones</code> - a matrix of 1’s</li>
<li><code>np.eye</code> - an identity matrix</li>
<li><code>np.diag</code> - create a matrix with supplied elements across the diagonal</li>
<li><code>np.fromfunction</code> - load elements from the return of a function</li>
<li><code>np.fromfile</code> - load elements from a data file</li>
</ul>
<p>Though, the best resource for understanding is NumPy’s own documentation on the subject: <a href="https://numpy.org/doc/stable/user/basics.creation.html" class="uri">https://numpy.org/doc/stable/user/basics.creation.html</a></p>
</section></section>
<section>
<section id="indexing-arrays" class="title-slide slide level1 center">
<h1>Indexing Arrays</h1>

</section>
<section id="slicing-numpy-arrays" class="slide level2">
<h2>Slicing NumPy arrays</h2>
<p>In native Python, when we have a ‘matrix’ like data structure (just a list of lists), and we want to access a particular element from this matrix, we have to do something like:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a></a>A <span class="op">=</span> [[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">3</span>, <span class="dv">4</span>]]</span>
<span id="cb27-2"><a></a><span class="bu">print</span>(A[<span class="dv">1</span>][<span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; 3</code></pre>
<p>However, in NumPy, we seperate the indexes by comma:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a></a>A <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">3</span>, <span class="dv">4</span>]])</span>
<span id="cb29-2"><a></a><span class="bu">print</span>(A[<span class="dv">1</span>, <span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; 3</code></pre>
<p>If we wanted to get all elements from the 2nd column we would use the <code>:</code> notation. For example:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a></a>A <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">3</span>, <span class="dv">4</span>]])</span>
<span id="cb31-2"><a></a><span class="bu">print</span>(A[:, <span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [2 4]</code></pre>
<p>Likewise, all elements from the 2nd row:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a></a><span class="bu">print</span>(A[<span class="dv">1</span>, :])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [3 4]</code></pre>
<p>Note that when we slice an array, we are <strong>not copying</strong> the elements:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a></a>A <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">3</span>, <span class="dv">4</span>]])</span>
<span id="cb35-2"><a></a>b <span class="op">=</span> A[:, <span class="dv">1</span>]</span>
<span id="cb35-3"><a></a></span>
<span id="cb35-4"><a></a>b[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb35-5"><a></a></span>
<span id="cb35-6"><a></a><span class="bu">print</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [[ 1 10]
# =&gt;  [ 3  4]]</code></pre>
<p>Any modification you make to the <code>b</code> variable will also affect <code>A</code>. For that we must use <code>.copy()</code></p>
<div class="sourceCode" id="cb37"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a></a>A <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">3</span>, <span class="dv">4</span>]])</span>
<span id="cb37-2"><a></a>b <span class="op">=</span> A[:, <span class="dv">1</span>].copy()</span>
<span id="cb37-3"><a></a>...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If we have a multi-dimensional array, to which we wish to index on the final dimension, one way to achieve this is by doing the following:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a></a>A <span class="op">=</span> np.random.randn(<span class="dv">10</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">4</span>)  <span class="co"># our array to slice</span></span>
<span id="cb38-2"><a></a>A[:, :, :, <span class="dv">1</span>:<span class="dv">2</span>]  <span class="co"># slice on the last dimension</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This can get pretty tedious the more that the number of dimensions increases. But! we have one syntactical shortcut at our disposal: the ellipses ‘…’. Using the ellipses in place of the many ‘:’ slices on each dimension, we’re telling NumPy to just take all elements from the prior dimensions. For example:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a></a>A[..., <span class="dv">1</span>:<span class="dv">2</span>]  <span class="co"># same slice on the last dimension</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="boolean-indexing" class="slide level2">
<h2>Boolean Indexing</h2>
<p>NumPy arrays can also be composed of boolean elements</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a></a>A <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>], [<span class="dv">0</span>, <span class="dv">5</span>]])</span>
<span id="cb40-2"><a></a><span class="bu">print</span>(A <span class="op">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [[ True False]
# =&gt;  [False  True]]</code></pre>
<p>And we can also use boolean elements to help with indexing:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a></a>values_above_zero <span class="op">=</span> A[A <span class="op">&gt;</span> <span class="dv">0</span>]</span>
<span id="cb42-2"><a></a><span class="bu">print</span>(values_above_zero)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [1 5]</code></pre>
<p>Therefore we can apply computations to only part of the array using this indexing feature:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a></a>mask <span class="op">=</span> A <span class="op">&gt;</span> <span class="dv">0</span></span>
<span id="cb44-2"><a></a>A[mask] <span class="op">=</span> A[mask] <span class="op">+</span> <span class="dv">10</span></span>
<span id="cb44-3"><a></a><span class="bu">print</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [[11 -1]
# =&gt;  [ 0 15]]</code></pre>
</section></section>
<section>
<section id="reshaping-and-resizing" class="title-slide slide level1 center">
<h1>Reshaping and Resizing</h1>

</section>
<section id="reshape" class="slide level2">
<h2>Reshape</h2>
<p>After an array has been created, we can modify its structure/shape using various functions. The first we shall look at is <code>.reshape</code>. For example, let us create a vector of 4 elements and then reshape it into an array of 2x2 elements. Of course, the new shape of the array must be proportional to the original number of elements: 2x2 elements = 4 elements.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a></a>A <span class="op">=</span> np.arange(<span class="dv">1</span>, <span class="dv">5</span>)</span>
<span id="cb46-2"><a></a></span>
<span id="cb46-3"><a></a>mat_A <span class="op">=</span> A.reshape(<span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb46-4"><a></a><span class="bu">print</span>(mat_A)</span>
<span id="cb46-5"><a></a><span class="bu">print</span>(A)  <span class="co"># A is not changed! No need for copy</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [[1 2]
# =&gt;  [3 4]]
# =&gt; [1 2 3 4]</code></pre>
</section>
<section id="flatten" class="slide level2">
<h2>Flatten</h2>
<p>If we wanted to take a 2d array and reshape it into a vector, we could of course use the <code>.reshape</code> function again. But we could also use <code>.flatten</code>.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a></a>flat_A <span class="op">=</span> mat_A.flatten()</span>
<span id="cb48-2"><a></a><span class="bu">print</span>(flat_A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [1 2 3 4]</code></pre>
<p>When specifying the new dimensionality of the reshaped array, <code>-1</code> is a shortcut to specify the dimensionality to allow reshaping to occur correctly. For example:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a></a>A <span class="op">=</span> np.arange(<span class="dv">1</span>, <span class="dv">5</span>)</span>
<span id="cb50-2"><a></a><span class="bu">print</span>(A)</span>
<span id="cb50-3"><a></a></span>
<span id="cb50-4"><a></a><span class="bu">print</span>(A.reshape(<span class="dv">2</span>, <span class="op">-</span><span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [1 2 3 4]
# =&gt; [[1 2]
# =&gt;  [3 4]]</code></pre>
<p>We’re telling NumPy to create an array with 2 elements on the 1st dimension, and then however many elements on the second dimension.</p>
</section>
<section id="add-a-dimension" class="slide level2">
<h2>Add a dimension</h2>
<p>We can add and remove dimensions using <code>.expand_dims</code> and <code>.squeeze</code>, respectively.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a></a><span class="bu">print</span>(A)</span>
<span id="cb52-2"><a></a><span class="bu">print</span>(np.expand_dims(A, <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [1 2 3 4]
# =&gt; [[1]
# =&gt;  [2]
# =&gt;  [3]
# =&gt;  [4]]</code></pre>
<p>We are taking a vector and adding a dimension. Note that we have to use <code>np.expand_dims</code> passing the object we want to expand and not <code>A.expand_dims</code>.</p>
<p>We can use an indexing trick with <code>None</code> to do the expansion in just the same way:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a></a><span class="bu">print</span>(A)</span>
<span id="cb54-2"><a></a><span class="bu">print</span>(A[:, <span class="va">None</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [1 2 3 4]
# =&gt; [[1]
# =&gt;  [2]
# =&gt;  [3]
# =&gt;  [4]]</code></pre>
<p>Where <code>None</code> indicates to NumPy where we want to add the new dimension.</p>
</section>
<section id="remove-a-dimension" class="slide level2">
<h2>Remove a dimension</h2>
<p>If we want to instead remove a dimension, we can use <code>.squeeze()</code></p>
<div class="sourceCode" id="cb56"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a></a><span class="bu">print</span>(A[:, <span class="va">None</span>].squeeze(<span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [1 2 3 4]</code></pre>
<p>We are removing the 2nd dimension, but <strong>note</strong> that the elements must be singletons. So you cannot squeeze a 2x2 array.</p>
</section>
<section id="matrix-transpose" class="slide level2">
<h2>Matrix transpose</h2>
<p>Another useful feature is the matrix transpose:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a></a><span class="bu">print</span>(mat_A)</span>
<span id="cb58-2"><a></a></span>
<span id="cb58-3"><a></a><span class="bu">print</span>(mat_A.transpose())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [[1 2]
# =&gt;  [3 4]]
# =&gt; [[1 3]
# =&gt;  [2 4]]</code></pre>
<p>or even:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a></a>    <span class="bu">print</span>(mat_A.T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [[1 3]
# =&gt;  [2 4]]</code></pre>
</section>
<section id="composing-arrays" class="slide level2">
<h2>Composing arrays</h2>
<p>If we have multiple arrays we want to ‘join’ together, we can use <code>np.hstack</code> for horizontally joining, or <code>np.vstack</code> for vertically joining arrays. <strong>Note</strong> the dimensions must match in the direction your stacking.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a></a>A <span class="op">=</span> np.array([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb62-2"><a></a>B <span class="op">=</span> np.array([<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>])</span>
<span id="cb62-3"><a></a></span>
<span id="cb62-4"><a></a><span class="bu">print</span>(np.hstack([A, B]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>[1 2 3 4 5 6]</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a></a><span class="bu">print</span>(np.vstack([A, B]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [[1 2 3]
# =&gt;  [4 5 6]]</code></pre>
<p><code>hstack</code> and <code>vstack</code> can be useful when the required output shape is simply defined. However, there is a more general function - <code>np.concatenate</code> - that will be more often useful to us.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a></a><span class="bu">print</span>(np.concatenate([A, B], axis<span class="op">=</span><span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>[1 2 3 4 5 6]</code></pre>
<p>Here we see that we can achieve the same result as <code>np.hstack</code> using <code>concatenate</code>. Notice also that there is a second argument to the <code>concatenate</code> function: the dimension upon which the concatenation will take place.</p>
<p><a href="https://numpy.org/doc/stable/reference/generated/numpy.concatenate.html" class="uri">https://numpy.org/doc/stable/reference/generated/numpy.concatenate.html</a></p>
</section></section>
<section>
<section id="arithmetic-operations" class="title-slide slide level1 center">
<h1>Arithmetic Operations</h1>

</section>
<section id="arithmetic-operations-1" class="slide level2">
<h2>Arithmetic Operations</h2>
<p>We have already seen some basic examples of arithmetic operations in NumPy. But its worth looking at these in detail.</p>
<p>One of the best reasons to use NumPy is that the computations are <strong>vectorized</strong> and can be <strong>broadcast</strong>. We’ll see examples of what these mean.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a></a>A <span class="op">=</span> np.array([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb68-2"><a></a>B <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>],</span>
<span id="cb68-3"><a></a>                [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]])</span>
<span id="cb68-4"><a></a></span>
<span id="cb68-5"><a></a><span class="bu">print</span>(A <span class="op">*</span> B)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [[ 1  4  9]
# =&gt;  [ 4 10 18]]</code></pre>
<p>We can perform vector and matrix arithmetic using Python’s infix operators like <code>+</code>, <code>*</code>, etc.</p>
<p>When we perform arithmetic operations, NumPy will convert the data into arrays for us. While this can help, its not best practice for vectors and matrices, for scalars it will be fine.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a></a>A <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb70-2"><a></a></span>
<span id="cb70-3"><a></a><span class="bu">print</span>(A <span class="op">*</span> B)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [[ 1  4  9]
# =&gt;  [ 4 10 18]]</code></pre>
</section>
<section id="broadcasting" class="slide level2">
<h2>Broadcasting</h2>
<p>When we are working with singletons or scalar values, NumPy will automatically perform the broadcasting for us. So for example, if we want to double each element of an array:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a></a><span class="bu">print</span>(B <span class="op">*</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [[ 2  4  6]
# =&gt;  [ 8 10 12]]</code></pre>
<p>NumPy will automatically broadcast the scalar <code>2</code> to every element of the shape and size of <code>B</code>.</p>
</section>
<section id="comparison-with-functions" class="slide level2">
<h2>Comparison with Functions</h2>
<p>NumPy provides, in many cases, both infix and function operations.</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">
Operation
</th>
<th scope="col" class="org-left">
Infix
</th>
<th scope="col" class="org-left">
Function
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">
Addition
</td>
<td class="org-left">
+
</td>
<td class="org-left">
np.add
</td>
</tr>
<tr>
<td class="org-left">
Subtraction
</td>
<td class="org-left">
-
</td>
<td class="org-left">
np.subtract
</td>
</tr>
<tr>
<td class="org-left">
Multiplication
</td>
<td class="org-left">
*
</td>
<td class="org-left">
np.multiply
</td>
</tr>
<tr>
<td class="org-left">
Division
</td>
<td class="org-left">
/
</td>
<td class="org-left">
np.divide
</td>
</tr>
<tr>
<td class="org-left">
Matrix Multiplication
</td>
<td class="org-left">
@
</td>
<td class="org-left">
np.matmul
</td>
</tr>
<tr>
<td class="org-left">
Power
</td>
<td class="org-left">
**
</td>
<td class="org-left">
np.power
</td>
</tr>
<tr>
<td class="org-left">
Cos/Tan/Sin
</td>
<td class="org-left">
&nbsp;
</td>
<td class="org-left">
np.cos, np.tan, np.sin
</td>
</tr>
<tr>
<td class="org-left">
Square root
</td>
<td class="org-left">
&nbsp;
</td>
<td class="org-left">
np.sqrt
</td>
</tr>
<tr>
<td class="org-left">
Exponential, Logarithm
</td>
<td class="org-left">
&nbsp;
</td>
<td class="org-left">
np.exp, np.log
</td>
</tr>
</tbody>
</table>
<p><a href="https://numpy.org/doc/stable/reference/routines.math.html" class="uri">https://numpy.org/doc/stable/reference/routines.math.html</a></p>
</section>
<section id="more-complex-operations" class="slide level2">
<h2>More complex operations</h2>
<p>There are a number of different operations one can perform on a matrix. Such as the dot product of two matrices:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a></a>A <span class="op">=</span> np.array([<span class="dv">1</span>, <span class="dv">2</span>])</span>
<span id="cb74-2"><a></a>B <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">3</span>, <span class="dv">4</span>]])</span>
<span id="cb74-3"><a></a><span class="bu">print</span>(np.dot(A, B))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [ 7 10]</code></pre>
<p>The inner product:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a></a><span class="bu">print</span>(np.inner(A, B))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [ 5 11]</code></pre>
<p>One mystical function is the <code>einsum</code> function. This function can effectively replace other functions like <code>dot</code> and <code>inner</code> but it takes some understanding on how it works. <code>einsum</code> is the application of Einstein Summation, a succinct method of describing the multiplication between matrices. Lets first look at an example of the outer product:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a></a><span class="bu">print</span>(np.einsum(<span class="st">'i,ij-&gt;j'</span>, A, B))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [ 7 10]</code></pre>
<p>Or the inner product:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a></a><span class="bu">print</span>(np.einsum(<span class="st">'j,ij-&gt;i'</span>, A, B))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [ 5 11]</code></pre>
<p>In <code>einsum</code> we are giving a letter for each dimension of each array we pass to the function.</p>
<p>So with: <code>'i,ij-&gt;j'</code> for the inner product of matrices A and B, we are saying that the first dimension of A (its only dimension) is labelled i, while for B the dimensions are labelled as i and j respectively. The labels that exist in both sequences are summed over.</p>
<p>Einsum can take a little time to fully understand and appreciate, but it can be a very powerful function with a very succinct syntax.</p>
<p><a href="https://www.youtube.com/watch?v=CLrTj7D2fLM" class="uri">https://www.youtube.com/watch?v=CLrTj7D2fLM</a> - Khan Academy - Einstein Summation Convention</p>
</section>
<section id="vectorizing-a-function" class="slide level2">
<h2>Vectorizing a function</h2>
<p>Lets say you have some function that computes the square of a number:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a></a><span class="kw">def</span> my_square(x):</span>
<span id="cb82-2"><a></a>    <span class="cf">return</span> x<span class="op">**</span><span class="dv">2</span></span>
<span id="cb82-3"><a></a></span>
<span id="cb82-4"><a></a><span class="bu">print</span>(my_square(<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; 16</code></pre>
<p>As the function is simple, it takes one argument and returns one argument, we can pass a NumPy array and will get the correct result.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a></a>A <span class="op">=</span> np.arange(<span class="dv">1</span>, <span class="dv">10</span>)</span>
<span id="cb84-2"><a></a><span class="bu">print</span>(my_square(A))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [ 1  4  9 16 25 36 49 64 81]</code></pre>
<p>However, if the function is more complicated, it will not work.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a></a><span class="kw">def</span> myfunc(a, b):</span>
<span id="cb86-2"><a></a>    <span class="co">"Return a-b if a&gt;b, otherwise return a+b"</span></span>
<span id="cb86-3"><a></a>    <span class="cf">if</span> a <span class="op">&gt;</span> b:</span>
<span id="cb86-4"><a></a>        <span class="cf">return</span> a <span class="op">-</span> b</span>
<span id="cb86-5"><a></a>    <span class="cf">else</span>:</span>
<span id="cb86-6"><a></a>        <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="cb86-7"><a></a></span>
<span id="cb86-8"><a></a><span class="bu">print</span>(myfunc(A, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; Traceback (most recent call last):
# =&gt;   File "&lt;stdin&gt;", line 1, in &lt;module&gt;
# =&gt;   File "/tmp/pyqVNaN0", line 3, in &lt;module&gt;
# =&gt;   File "/tmp/babel-jHhWMz/python-nKlyRH", line 8, in &lt;module&gt;
# =&gt;     print(myfunc(A, 2))
# =&gt;   File "/tmp/babel-jHhWMz/python-nKlyRH", line 3, in myfunc
# =&gt;     if a &gt; b:
# =&gt; ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()</code></pre>
<p>To allow us to use this function over an array, we can use the <code>np.vectorize</code> function to create a new function, which applies <code>myfunc</code> over each element.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a></a>vfunc <span class="op">=</span> np.vectorize(myfunc)</span>
<span id="cb88-2"><a></a><span class="bu">print</span>(vfunc(A, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Results: 
# =&gt; [3 4 1 2 3 4 5 6 7]</code></pre>
<p>Here we pass the function we want to vectorize <code>myfunc</code> to the <code>np.vectorize</code> function. The return of this function is another function!</p>
</section></section>
<section id="reading-more" class="title-slide slide level1 center">
<h1>Reading more</h1>
<p>We’ve only scratched the surface of what NumPy can offer us! One of the best starting points for learning about NumPy is NumPy’s own user guide on the web: <a href="https://numpy.org/doc/stable/user/index.html" class="uri">https://numpy.org/doc/stable/user/index.html</a></p>
<ul>
<li>Linear Algebra tutorial <a href="https://numpy.org/doc/stable/user/tutorial-svd.html" class="uri">https://numpy.org/doc/stable/user/tutorial-svd.html</a></li>
<li>Boolean expressions <a href="https://numpy.org/doc/stable/reference/routines.logic.html" class="uri">https://numpy.org/doc/stable/reference/routines.logic.html</a></li>
<li>Set operations <a href="https://numpy.org/doc/stable/reference/routines.set.html" class="uri">https://numpy.org/doc/stable/reference/routines.set.html</a></li>
</ul>


</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'h.v',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/morganwastaken\.com");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>
